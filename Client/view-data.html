<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href='/Client/CSS/view-data.css'>
   
    <title>The Craft Stash</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="/Client/js/view-data.js"></script>
    <script src="/Client/js/config.js"></script>
</head>

<body>
    <header>
        <nav>
            <ul class="nav-buttons">
                <li><a href="/home">Home</a></li> 
                <li><a href="/write-data">Enter Data</a></li>
                <li><a href="/view-data">View Data</a></li>
                <li><a href="/browse-data">Browse Data</a></li>
            </ul>
        </nav>
    </header>
    
    <main class = "page-content">
          
        
        <div class="container productForm">
        <h1>View Data Page</h1> 

        <label for="productType">Select Product Type:</label>
        <select id="productType" [(ngModel)]="productType" (change)="onTypeChange()">
            <option value="">All</option>
            <option value="color">Color</option>
            <option value="manufacturer">Manufacturer</option>
            <option value="type">Type</option>
            <!-- Add other options as needed -->
        </select>


        <body data-ng-app="viewDataApp" data-ng-controller="viewDataCtrl" data-ng-init=" hideForm=true">
            <section data-ng-hide="hideTable"><br>
              <div style=" margin-left: 0px;">
                <label for="groupby">Products:</label>
                <select id="groupby"
                  data-ng-model=" selectedType"
                  data-ng-options=" type.display for type in types" 
                
                  data-ng-change="redrawTable()">
                </select>
              </div>
              <br>

            <table id="dataTable">
                <thead>
                    <tr>
                        
                        <th>Product Name</th>
                        <th>Manufacturer</th>
                        <th>Color</th>
                        <th>Type</th>
                        <th>Location</th>
                        <th>Quantity</th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-ng-repeat="obj in products">
                        <td>{{obj.productName}}</td>
                        <td>{{obj.manufacturer}}</td>
                        <td>{{obj.Color}}</td>
                        <td>{{obj.type}}</td>
                        <td>{{obj.Location}}</td>
                        <td>{{obj.quantity}}</td>

                        <td>
                            <button data-ng-click="editProduct($index)">EDIT</button>
                          </td>
                          <td>
                            <button data-ng-click="deleteProduct(obj.name)">DELETE</button>
                          </td>
                        </tr>
                      </table>
                    </div>
                  </section>
              
                  <section data-ng-hide="hideForm">
                    <div style="font-size:30px">
                      <label data-ng-model ="productID" hidden></label>
                    </div>
              
                    <div>
                      <label for="productDescription">Product Description:</label>
                      <input type="text" id="ProductDescription" name="ProductDescription"ng-model="ProductDescription"><br><br>
                    </div>
                    
                    <div>
                      <label for="Color">Color:</label>
                      <input type="text" id="Color" name="Color" ng-model="Color"><br><br>
                    </div>
                    
                    <div>
                      <label for="ManufacturerName"> Manufacturer:</label>
                      <input type="text" id="ManufacturerName" name="ManufacturerName" ng-model="ManufacturerName"><br><br>
                    </div>
                    
                    <div>
                      <label for="ProductType">Product Type:</label>
                      <input type="text" id="ProductType" name="ProductType"ng-model="ProductType"><br><br>
                    </div>

                    <div>
                      <label for="Location">Location:</label>
                      <input type="text" id="Location" name="Location"ng-model="Location"><br><br>
                    </div>

                    <div>
                      <label for="Quantity">Quantity:</label>
                      <input type="text" id="Quantity" name="Quantity"ng-model="Quantity"><br><br>
                    </div>    
              
                    <div style="float:left; margin-top:30px;">
                      <div style="float: left; clear:right;  margin-left: 30px;">
                        <button id="submit" data-ng-click="updateProduct()">Update</button>
                      </div>
                    </div>
                    <div style="float:left; margin-top:30px;">
                      <div style="float: left; clear:right;  margin-left: 30px;">
                        <button id="cancelButton" data-ng-click="cancelUpdate()">Cancel</button>
                      </div>
                    </div>
                    <div style= "float: left; clear: left; margin-top: 20px; font-size: 24px; color: rgb(41, 19, 208);">{{addResults}}</div>
                    
                  </div>
                  </section>
                
                </body>
              </html>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 Beatriz Santana</p>
    </footer>
</body>
    

</html>
